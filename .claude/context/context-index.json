{
  "schema_version": "2.0",
  "context_id": "ctx-pcai-20260128",
  "project": {
    "name": "PC_AI",
    "type": "diagnostics-agent-with-native-acceleration",
    "location": "C:\\Users\\david\\PC_AI",
    "platform": "Windows 10/11",
    "integrations": ["WSL2", "Docker", "Hyper-V", "Ollama", "LM Studio", "vLLM", "Rust FFI", "C# P/Invoke", "FunctionGemma"]
  },
  "context": {
    "version": "5.2.0",
    "created": "2025-01-23",
    "updated": "2026-01-28",
    "files": {
      "full": "project-context.md",
      "native": "native-acceleration-context.md",
      "detailed": "pc-ai-project-context.md",
      "quick": "quick-context.md",
      "latest": "pcai-context-20260128.md",
      "index": "context-index.json"
    }
  },
  "state": {
    "current_phase": "rust_consolidation_complete",
    "phase_description": "Rust workspace consolidated into pcai_core_lib modules, FunctionGemma Docker training added",
    "core_functional": true,
    "native_functional": true,
    "migration_pending": false,
    "uncommitted_changes": 0,
    "latest_commit": "06092bb",
    "latest_commit_message": "chore: update context and configuration files"
  },
  "security": {
    "dependabot_alerts": {
      "total": 1,
      "fixed": 0,
      "open": 1
    },
    "cves_fixed": [
      {"id": "CVE-2024-30105", "package": "System.Text.Json", "fixed_version": "8.0.5"},
      {"id": "CVE-2024-43485", "package": "System.Text.Json", "fixed_version": "8.0.5"}
    ],
    "cves_pending": [
      {"id": "high-severity", "package": "unknown", "status": "Review required", "url": "https://github.com/david-t-martel/PC-AI/security/dependabot/1"}
    ]
  },
  "native_acceleration": {
    "architecture": "Consolidated Rust DLL + C# Hybrid Framework",
    "refactoring_status": "COMPLETE",
    "structure": {
      "workspace": "Native/pcai_core/",
      "core_lib": "pcai_core_lib/",
      "modules": ["fs", "performance", "search", "system", "telemetry"]
    },
    "phases": {
      "phase1": { "name": "Foundation", "module": "pcai_core_lib", "status": "COMPLETE" },
      "phase2": { "name": "Search Module", "module": "search/", "status": "CONSOLIDATED" },
      "phase3": { "name": "Performance Module", "module": "performance/", "status": "CONSOLIDATED" },
      "phase4": { "name": "System Module", "module": "system/", "status": "CONSOLIDATED" },
      "phase5": { "name": "Integration Testing", "status": "READY" },
      "phase6": { "name": "CI/CD", "status": "PLANNED" }
    },
    "recent_changes": {
      "rust_consolidation": "Merged pcai_performance, pcai_search, pcai_system into pcai_core_lib submodules",
      "csharp_refactor": "Updated P/Invoke bindings for unified library",
      "new_projects": ["rust-functiongemma-train", "PC-AI.Common module"]
    },
    "dependencies": {
      "rust": {
        "sysinfo": "0.38",
        "windows-sys": "0.61",
        "winreg": "0.55",
        "rayon": "1.10",
        "serde": "1.0",
        "serde_json": "1.0"
      },
      "csharp": {
        "Microsoft.PowerShell.SDK": "7.5.4",
        "System.Text.Json": "8.0.5"
      }
    }
  },
  "python_dependencies": {
    "protobuf": ">=6.31.1",
    "transformers": ">=4.47.0",
    "torch": ">=2.5.0",
    "accelerate": ">=1.2.0",
    "datasets": ">=3.2.0",
    "peft": ">=0.14.0",
    "trl": ">=0.12.0",
    "huggingface_hub": ">=0.27.0"
  },
  "key_files": {
    "native": {
      "rust_workspace": "Native/pcai_core/Cargo.toml",
      "core_lib": "Native/pcai_core/pcai_core_lib/src/lib.rs",
      "performance_module": "Native/pcai_core/pcai_core_lib/src/performance/mod.rs",
      "search_module": "Native/pcai_core/pcai_core_lib/src/search/mod.rs",
      "system_module": "Native/pcai_core/pcai_core_lib/src/system/mod.rs",
      "telemetry_module": "Native/pcai_core/pcai_core_lib/src/telemetry/mod.rs",
      "csharp_core": "Native/PcaiNative/PcaiCore.cs",
      "csharp_performance": "Native/PcaiNative/PerformanceModule.cs",
      "csharp_search": "Native/PcaiNative/SearchModule.cs",
      "csharp_system": "Native/PcaiNative/SystemModule.cs"
    },
    "llm": {
      "module": "Modules/PC-AI.LLM/PC-AI.LLM.psm1",
      "config": "Modules/PC-AI.LLM/llm-config.json",
      "validation": "Modules/PC-AI.LLM/Private/Validate-ToolParameters.ps1",
      "functiongemma_python": "Deploy/functiongemma-finetune/",
      "functiongemma_rust": "Deploy/rust-functiongemma-train/"
    },
    "powershell": {
      "cli": "PC-AI.ps1",
      "cli_module": "Modules/PC-AI.CLI/PC-AI.CLI.psm1",
      "common_module": "Modules/PC-AI.Common/PC-AI.Common.psm1"
    }
  },
  "recent_commits": [
    {"sha": "06092bb", "message": "chore: update context and configuration files"},
    {"sha": "1200f97", "message": "test: update FFI tests and add new integration tests"},
    {"sha": "0f619a7", "message": "feat(training): add Rust-based FunctionGemma trainer"},
    {"sha": "989ba0e", "message": "feat(training): enhance FunctionGemma training with Docker and profiling"},
    {"sha": "dc69c1b", "message": "feat(modules): add PC-AI.Common module and tool parameter validation"},
    {"sha": "939dfcc", "message": "refactor(csharp): update native modules for Rust consolidation"},
    {"sha": "8d8a38c", "message": "refactor(rust): consolidate pcai crates into pcai_core_lib modules"},
    {"sha": "c561a13", "message": "chore: update gitignore and rgignore patterns"},
    {"sha": "249ff69", "message": "feat(llm): add structured JSON logging module with configurable log levels"},
    {"sha": "1b6cfa1", "message": "feat(llm): add graceful degradation when FunctionGemma router unavailable"}
  ],
  "agents": {
    "registry": [
      {
        "agent": "rust-analyzer-analysis",
        "task": "Comprehensive rust-analyzer memory investigation",
        "completed_at": "2026-01-28T16:00:00Z",
        "handoff_notes": "Documented 3 config tiers, MCP options, 8 workspaces found"
      },
      {
        "agent": "commit-cluster",
        "task": "Clustered and committed 84 files into 8 semantic commits",
        "completed_at": "2026-01-28T15:31:00Z",
        "handoff_notes": "All changes pushed to origin/main"
      },
      {
        "agent": "context-save",
        "task": "Gitignore/rgignore audit before commit",
        "completed_at": "2026-01-28T15:19:00Z",
        "handoff_notes": "Reduced 570+ untracked files, updated ignore patterns"
      },
      {
        "agent": "commit-cluster",
        "task": "Clustered and committed 130+ files into 13 semantic commits",
        "completed_at": "2026-01-27T12:30:00Z",
        "handoff_notes": "Previous session commits"
      },
      {
        "agent": "security-auditor",
        "task": "Analyzed Dependabot alerts, applied CVE fixes",
        "files_touched": ["requirements.txt", "pyproject.toml", "Cargo.toml"],
        "completed_at": "2026-01-27T13:30:00Z",
        "handoff_notes": "2 CVEs fixed, new alert pending review"
      }
    ],
    "recommended_next": ["rust-pro", "test-runner", "security-auditor", "csharp-pro"],
    "coordination_notes": "Validate Rust build after consolidation, review Dependabot high-severity alert"
  },
  "roadmap": {
    "immediate": [
      "Apply rust-analyzer Balanced config to .vscode/settings.json",
      "Validate Rust workspace builds (cargo build --release)",
      "Run FFI test suite",
      "Review Dependabot high-severity alert"
    ],
    "this_week": [
      "Test FunctionGemma Docker training workflow",
      "Document new Rust module structure",
      "Create Rust FunctionGemma trainer tests"
    ],
    "tech_debt": [
      "Remove .deprecated/ after validation",
      "Add tests for PC-AI.Common module",
      "Document Docker training workflow",
      "Clean up unused GUID constants"
    ]
  }
}
